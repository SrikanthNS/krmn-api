(this["webpackJsonpKRMN-UI"]=this["webpackJsonpKRMN-UI"]||[]).push([[0],{101:function(e,t,n){"use strict";(function(e){n(1);var c=n(38),a=n(0);t.a=function(t){return c.a.listen((function(){var n=JSON.parse(localStorage.getItem("user"));n&&(1e3*function(t){try{return JSON.parse(e.from(t.split(".")[1],"base64"))}catch(n){return null}}(n.accessToken).exp<Date.now()&&t.logOut())})),Object(a.jsx)("div",{})}}).call(this,n(232).Buffer)},231:function(e,t,n){},236:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(48),r=n.n(s),i=n(3),l=n(4),o=(n(111),n(10)),d=n(2),u=n.n(d),j=n(9),b=n(5),m=n(8),p=n(7),h=n(94),O=n.n(h).a.create({baseURL:"/api",headers:{"Content-type":"application/json"}});function f(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var x,v,g,N,y={getAll:function(){return O.get("/clients",{headers:f()})},get:function(e){return O.get("/clients/".concat(e),{headers:f()})},create:function(e){return O.post("/clients",e,{headers:f()})},update:function(e,t){return O.put("/clients/".concat(e),t,{headers:f()})},remove:function(e){return O.delete("/clients/".concat(e),{headers:f()})},removeAll:function(){return O.delete("/clients",{headers:f()})},findByName:function(e){return O.get("/clients?name=".concat(e),{headers:f()})}},w=Object(p.c)({name:"message",initialState:{},reducers:{setMessage:function(e,t){return{message:t.payload}},clearMessage:function(){return{message:""}}}}),k=w.reducer,C=w.actions,S=C.setMessage,T=C.clearMessage,I=k,A=Object(p.b)("client/create",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,e.prev=1,e.next=4,y.create({name:c});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),s=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(S(s)),e.abrupt("return",n.rejectWithValue());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),D=Object(p.b)("clients/retrieve",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),F=Object(p.b)("clients/update",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=t.data,e.next=3,y.update(n,c);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(p.b)("Clients/delete",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,y.remove(n);case 3:return e.abrupt("return",{id:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=Object(p.b)("Clients/deleteAll",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.removeAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),L=Object(p.b)("Clients/findByName",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,y.findByName(n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(p.c)({name:"client",initialState:[],extraReducers:(x={},Object(b.a)(x,A.fulfilled,(function(e,t){e.push(t.payload)})),Object(b.a)(x,D.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),Object(b.a)(x,F.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n]=Object(m.a)(Object(m.a)({},e[n]),t.payload)})),Object(b.a)(x,E.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(n,1)})),Object(b.a)(x,B.fulfilled,(function(e,t){return[]})),Object(b.a)(x,L.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),x)}).reducer,M=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O.get("/tasks/download",{responseType:"blob",headers:Object(m.a)(Object(m.a)({},f()),{},{headers:{"Content-Disposition":"attachment; filename=template.xlsx","Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},responseType:"arraybuffer"})}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n="taskList_".concat((new Date).toJSON().slice(0,10),".xlsx"),c=URL.createObjectURL(new Blob([t.data])),(a=document.createElement("a")).href=c,a.setAttribute("download",n),document.body.appendChild(a),a.click()}catch(s){console.log("\ud83d\ude80 ~ file: task.service.js ~ line 38 ~ .then ~ e",s.message)}return e.abrupt("return");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U={getAll:function(){return O.get("/tasks",{headers:f()})},get:function(e){return O.get("/tasks/".concat(e),{headers:f()})},create:function(e){return O.post("/tasks",e,{headers:f()})},update:function(e,t){return O.put("/tasks/".concat(e),t,{headers:f()})},remove:function(e){return O.delete("/tasks/".concat(e),{headers:f()})},removeAll:function(){return O.delete("/tasks",{headers:f()})},findByDesc:function(e){return O.get("/tasks?description=".concat(e),{headers:f()})},getCurrentUserTasks:function(){return O.get("/user/tasks",{headers:f()})},downloadAllTasks:M},q=Object(p.b)("task/create",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a,s,r,i,l,o,d,j,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.description,a=t.minutesSpent,s=t.date,r=t.completed,i=t.clientId,l=t.reviewerId,o=t.taskType,d=t.billingCategory,e.prev=1,e.next=4,U.create({description:c,minutesSpent:a,date:s,completed:r,clientId:i,reviewerId:l,taskType:o,billingCategory:d});case 4:return j=e.sent,e.abrupt("return",j.data);case 8:return e.prev=8,e.t0=e.catch(1),b=e.t0.message||e.t0.toString(),n.dispatch(S(b)),e.abrupt("return",n.rejectWithValue());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(p.b)("tasks/retrieve",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),G=Object(p.b)("tasks/download",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.downloadAllTasks();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Y=Object(p.b)("currentUsertasks/retrieve",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),V=Object(p.b)("tasks/update",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,a=t.data,e.prev=1,e.next=4,U.update(c,a);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),"Something is wrong please check all fields",n.dispatch(S("Something is wrong please check all fields")),e.abrupt("return",n.rejectWithValue());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),J=Object(p.b)("Tasks/delete",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,U.remove(n);case 3:return e.abrupt("return",{id:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(p.b)("Tasks/deleteAll",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.removeAll();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),W=Object(p.b)("Tasks/findByTitle",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.description,e.next=3,U.findByDesc(n);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(p.c)({name:"Task",initialState:[],extraReducers:(v={},Object(b.a)(v,q.fulfilled,(function(e,t){e.push(t.payload)})),Object(b.a)(v,P.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),Object(b.a)(v,Y.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),Object(b.a)(v,V.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n]=Object(m.a)(Object(m.a)({},e[n]),t.payload)})),Object(b.a)(v,J.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(n,1)})),Object(b.a)(v,K.fulfilled,(function(e,t){return[]})),Object(b.a)(v,W.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),v)}).reducer,_={get:function(e){return console.log("\ud83d\ude80 ~ file: user.service.js:37 ~ get ~ id:",e),O.get("/users/".concat(e),{headers:f()})},getPublicContent:function(){return O.get("/all")},getUserBoard:function(){return O.get("/user",{headers:f()})},getModeratorBoard:function(){return O.get("/mod",{headers:f()})},getAdminBoard:function(){return O.get("/admin",{headers:f()})},retrieveReviewers:function(){return O.get("/reviewer")},retrieveAllUsers:function(){return O.get("/userList",{headers:f()})},findByName:function(e){return O.get("/users?name=".concat(e),{headers:f()})},update:function(e,t){return O.put("/users/".concat(e),t,{headers:f()})}},z=Object(p.b)("users/reviewer",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.retrieveReviewers();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Q=Object(p.b)("users/list",Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.retrieveAllUsers();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),X=Object(p.b)("users/findByName",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,e.next=3,_.findByName(n);case 3:return c=e.sent,console.log("\ud83d\ude80 ~ file: users.js:25 ~ res.data:",c.data),e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(p.b)("users/update",function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=t.data,e.next=3,_.update(n,c);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$=Object(p.c)({name:"users",initialState:{reviewers:[],users:[]},extraReducers:(g={},Object(b.a)(g,z.fulfilled,(function(e,t){e.reviewers=t.payload})),Object(b.a)(g,Q.fulfilled,(function(e,t){e.users=t.payload})),Object(b.a)(g,X.fulfilled,(function(e,t){return Object(o.a)(t.payload)})),Object(b.a)(g,Z.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n]=Object(m.a)(Object(m.a)({},e[n]),t.payload)})),g)}).reducer,ee=n(6),te=n(32),ne=n.n(te),ce=n(15),ae=n(0),se=function(e){var t=Object(i.c)((function(e){return e.client})),n=Object(i.c)((function(e){return e.user})).reviewers,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],o=s[1],d={description:"",completed:!1,date:ne()().format("YYYY-MM-DD"),clientId:"",reviewerId:null,minutesSpent:"",taskType:"",billingCategory:""},u=Object(c.useState)(d),j=Object(l.a)(u,2),p=j[0],h=j[1],O=Object(c.useState)(!1),f=Object(l.a)(O,2),x=f[0],v=f[1],g=Object(i.c)((function(e){return e.message})).message,N=Object(i.b)();Object(c.useEffect)((function(){N(T())}),[N]);var y=function(e){var t=e.target,n=t.name,c=t.value;h(Object(m.a)(Object(m.a)({},p),{},Object(b.a)({},n,c)))},w=function(e,t){e.preventDefault(),o(t),h(Object(m.a)(Object(m.a)({},p),{},{completed:t}))},k=ce.b().shape({clientId:ce.c().required("Please choose the Client"),description:ce.c().required("Please enter the Task Description"),minutesSpent:ce.a().required("Please enter the Time Spent"),taskType:ce.c().required("Please choose Task Type"),billingCategory:ce.c().required("Please choose Billing Category")});return Object(ae.jsx)(ee.d,{initialValues:d,validationSchema:k,onSubmit:function(t){var n=t.description,c=t.minutesSpent,a=t.clientId,s=t.taskType,r=t.billingCategory;v(!0),e.saveTask(Object(m.a)(Object(m.a)({},p),{},{description:n,minutesSpent:c,clientId:a,taskType:s,billingCategory:r})).then((function(){v(!1)}))},children:Object(ae.jsx)(ee.c,{children:Object(ae.jsxs)("div",{children:[g&&Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:g})}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"clientId",children:["Choose client",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)(ee.b,{as:"select",className:"form-control",name:"clientId",id:"clientId",children:[Object(ae.jsx)("option",{value:"",children:"Select Client"}),t.map((function(e){return Object(ae.jsx)("option",{value:e.id,children:e.name},"client-".concat(e.id))}))]}),Object(ae.jsx)(ee.a,{name:"clientId",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"taskDate",children:["Date",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsx)("input",{className:"form-control",type:"date",value:p.date,id:"taskDate",name:"date",onChange:y})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"taskType",children:["Choose Task Type",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)(ee.b,{as:"select",className:"form-control",name:"taskType",id:"taskType",children:[Object(ae.jsx)("option",{value:"",children:"Select Task Type"}),Object(ae.jsx)("option",{value:"Income Tax",children:"Income Tax"},"type-1"),Object(ae.jsx)("option",{value:"GST",children:"GST"},"type-2"),Object(ae.jsx)("option",{value:"MCA",children:"MCA"},"type-3"),Object(ae.jsx)("option",{value:"FEMA",children:"FEMA"},"type-4"),Object(ae.jsx)("option",{value:"DGFT",children:"DGFT"},"type-5"),Object(ae.jsx)("option",{value:"Others",children:"Others"},"type-6")]}),Object(ae.jsx)(ee.a,{name:"taskType",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"billingCategory",children:["Choose Billing Category",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)(ee.b,{as:"select",className:"form-control",name:"billingCategory",id:"billingCategory",children:[Object(ae.jsx)("option",{value:"",children:"Select Billing Category"}),Object(ae.jsx)("option",{value:"Billable",children:"Billable"},"billing-cat-1"),Object(ae.jsx)("option",{value:"Non-Billable",children:"Non-Billable"},"billing-cat-2"),Object(ae.jsx)("option",{value:"Retainer",children:"Retainer"},"billing-cat-3")]}),Object(ae.jsx)(ee.a,{name:"billingCategory",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"description",children:["Description",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsx)(ee.b,{type:"text",className:"form-control",id:"description",name:"description"}),Object(ae.jsx)(ee.a,{name:"description",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"minutesSpent",children:["Time Spent",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsx)(ee.b,{type:"number",className:"form-control",id:"minutesSpent",name:"minutesSpent"}),Object(ae.jsx)(ee.a,{name:"minutesSpent",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{children:["Status",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)("button",{className:"btn btn-md btn-info mr-2",onClick:function(e){return w(e,!r)},children:["In-progress ",!r&&Object(ae.jsx)("input",{type:"checkbox",defaultChecked:!0})]}),Object(ae.jsxs)("button",{className:"btn btn-md mr-2 btn-primary",onClick:function(e){return w(e,!r)},children:["completed ",r&&Object(ae.jsx)("input",{type:"checkbox",defaultChecked:!0})]})]}),r&&Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"reviewers",children:["Reviewer By: ",Object(ae.jsx)("small",{className:"text-center text-muted",children:"(optional)"}),": "]}),Object(ae.jsxs)("select",{className:"form-control",onChange:y,name:"reviewerId",id:"reviewers",children:[Object(ae.jsx)("option",{value:null,children:"Select Reviewer"}),n.map((function(e){return Object(ae.jsx)("option",{value:e.id,children:e.username},"reviewer-".concat(e.id))}))]})]}),Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[x&&!g&&Object(ae.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(ae.jsx)("span",{children:"Submit"})]})})]})})})},re=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),d=r[0],b=r[1],m=Object(i.b)(),p=function(e){var t=e.description,n=e.completed,c=e.date,s=e.minutesSpent,r=e.reviewerId,i=e.clientId,l=e.taskType,o=e.billingCategory;m(q({description:t,date:c,completed:n,minutesSpent:s,reviewerId:r,clientId:i,taskType:l,billingCategory:o})).unwrap().then((function(){b([]),a(!0)})).catch((function(e){console.log("\ud83d\ude80 ~ file: AddTask.js ~ line 34 ~ saveTask ~ e",e.message)}))},h=Object(c.useCallback)(Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(D()),m(z()),b([Object(ae.jsx)(se,{saveTask:p},"task-1")]);case 3:case"end":return e.stop()}}),e)}))),[m]);Object(c.useEffect)((function(){h()}),[h]);return Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"New Task"}),Object(ae.jsx)("hr",{}),Object(ae.jsx)("div",{className:"submit-form",children:n?Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h4",{children:"You submitted successfully!"}),Object(ae.jsx)("button",{className:"btn btn-success",onClick:function(e,t){return b([].concat(Object(o.a)(d),[Object(ae.jsx)(se,{saveTask:p},"task1")])),void a(!1)},children:"Add"})]}):Object(ae.jsx)("div",{className:"row",children:Object(ae.jsx)("div",{className:"col-md-12",style:{display:"flex",flexDirection:"column"},children:d.map((function(e){return e}))})})})]})},ie=function(e){var t=Object(i.c)((function(e){return e.client})),n=Object(i.c)((function(e){return e.user})).reviewers,a=Object(c.useState)({id:null,clientId:null,date:null,description:"",minutesSpent:null,completed:!1,reviewerId:null,taskType:"",billingCategory:""}),s=Object(l.a)(a,2),r=s[0],o=s[1],d=Object(c.useState)(""),u=Object(l.a)(d,2),j=u[0],p=u[1],h=Object(i.b)();Object(c.useEffect)((function(){var t;t=e.match.params.id,U.get(t).then((function(e){var t;o(Object(m.a)(Object(m.a)({},e.data),void 0===(null===(t=e.data)||void 0===t?void 0:t.taskType)?{taskType:""}:null))})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var O=function(e){var t=e.target,n=t.name,c=t.value;o(Object(m.a)(Object(m.a)({},r),{},Object(b.a)({},n,c)))},f=function(e){var t={id:r.id,clientId:r.clientId,reviewerId:r.reviewerId,description:r.description,completed:e,minutesSpent:r.minutesSpent,date:r.date,taskType:r.taskType,billingCategory:r.billingCategory};h(V({id:r.id,data:t})).unwrap().then((function(t){console.log(t),o(Object(m.a)(Object(m.a)({},r),{},{completed:e},!e&&{reviewerId:null})),p("The status was updated successfully!")})).catch((function(e){p(e.message),console.log(e)}))};return Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"Edit Task"}),Object(ae.jsx)("hr",{}),r?Object(ae.jsxs)("div",{className:"edit-form",children:[Object(ae.jsxs)("form",{children:[Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"client",children:"Choose client:"}),Object(ae.jsxs)("select",{className:"form-control",onChange:O,name:"clientId",id:"clients",children:[Object(ae.jsx)("option",{value:"",children:"Select Client"}),t.map((function(e){return Object(ae.jsx)("option",{selected:r.clientId===e.id,value:e.id,children:e.name},"client-".concat(e.id))}))]})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"taskDate",children:"Date:"}),Object(ae.jsx)("input",{className:"form-control",type:"date",value:ne()(r.date).format("YYYY-MM-DD"),id:"taskDate",name:"date",onChange:O})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"taskType",children:["Choose Task Type",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)("select",{className:"form-control",onChange:O,name:"taskType",id:"taskType",children:[Object(ae.jsx)("option",{selected:""===r.taskType,value:"",children:"Select Task Type"}),Object(ae.jsx)("option",{selected:"Income Tax"===r.taskType,value:"Income Tax",children:"Income Tax"},"type-1"),Object(ae.jsx)("option",{selected:"GST"===r.taskType,value:"GST",children:"GST"},"type-2"),Object(ae.jsx)("option",{selected:"MCA"===r.taskType,value:"MCA",children:"MCA"},"type-3"),Object(ae.jsx)("option",{selected:"FEMA"===r.taskType,value:"FEMA",children:"FEMA"},"type-4"),Object(ae.jsx)("option",{selected:"DGFT"===r.taskType,value:"DGFT",children:"DGFT"},"type-5"),Object(ae.jsx)("option",{selected:"Others"===r.taskType,value:"Others",children:"Others"},"type-6")]})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"billingCategory",children:["Choose Billing Category",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsxs)("select",{className:"form-control",onChange:O,name:"billingCategory",id:"billingCategory",children:[Object(ae.jsx)("option",{selected:!(null===r||void 0===r?void 0:r.billingCategory),value:"",children:"Select Billing Category"}),Object(ae.jsx)("option",{selected:"Billable"===(null===r||void 0===r?void 0:r.billingCategory),value:"Billable",children:"Billable"},"billing-cat-1"),Object(ae.jsx)("option",{selected:"Non-Billable"===(null===r||void 0===r?void 0:r.billingCategory),value:"Non-Billable",children:"Non-Billable"},"billing-cat-2"),Object(ae.jsx)("option",{selected:"Retainer"===(null===r||void 0===r?void 0:r.billingCategory),value:"Retainer",children:"Retainer"},"billing-cat-3")]})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"description",children:"Description"}),Object(ae.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:r.description,onChange:O})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"minutesSpent",children:"Time Spent:"}),Object(ae.jsx)("input",{type:"number",className:"form-control",id:"minutesSpent",required:!0,value:r.minutesSpent||"",onChange:O,name:"minutesSpent"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{children:Object(ae.jsx)("strong",{children:"Status:"})}),r.completed?"Completed":"In-progress"]}),r.completed&&Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"reviewers",children:"Reviewer:"}),Object(ae.jsxs)("select",{className:"form-control",onChange:O,name:"reviewerId",id:"reviewers",children:[Object(ae.jsx)("option",{value:null,children:"Select Reviewer"}),n.map((function(e){return Object(ae.jsx)("option",{selected:r.reviewerId===e.id,value:e.id,children:e.username},"reviewer-".concat(e.id))}))]})]})]}),r.completed?Object(ae.jsx)("button",{className:"btn btn-md btn-primary mr-2",onClick:function(){return f(!1)},children:"In-Progress"}):Object(ae.jsx)("button",{className:"btn btn-md btn-info mr-2",onClick:function(){return f(!0)},children:"Completed"}),Object(ae.jsx)("button",{className:"btn btn-md btn-danger mr-2",onClick:function(){h(J({id:r.id})).unwrap().then((function(){e.history.push("/tasks")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(ae.jsx)("button",{type:"submit",className:"btn btn-md mr-2 btn-success",onClick:function(){h(V({id:r.id,data:r})).unwrap().then((function(e){console.log(e),p("The task was updated successfully!")})).catch((function(e){p(e.message),console.log(e.message)}))},children:"Update"}),Object(ae.jsx)("p",{children:j})]}):Object(ae.jsxs)("div",{children:[Object(ae.jsx)("br",{}),Object(ae.jsx)("p",{children:"Please click on a Task to view..."})]})]})},le=n(13),oe=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(i.c)((function(e){return e.tasks})),r=Object(i.c)((function(e){return e.client})),o=Object(i.c)((function(e){return e.user})),d=o.reviewers,u=o.users,j=Object(i.b)(),b=Object(i.c)((function(e){return e.auth})).user,m=Object(c.useState)(!1),p=Object(l.a)(m,2),h=p[0],O=p[1],f=Object(c.useCallback)((function(){j(D()),j(z()),j(Q()),j(P())}),[j]);Object(c.useEffect)((function(){b&&b.roles.includes("ROLE_ADMIN")?O(!0):O(!1)}),[b]),Object(c.useEffect)((function(){f()}),[f]);var x=function(){j(W({description:n}))};return Object(ae.jsxs)("div",{className:" row",children:[Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsxs)("div",{className:"input-group mb-3",children:[Object(ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by description",value:n,onChange:function(e){var t=e.target.value;a(t)},onKeyPress:function(e){"Enter"===e.code&&x()}}),Object(ae.jsx)("div",{className:"input-group-append",children:Object(ae.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:x,children:"Search"})})]})}),Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsx)("h4",{children:"Task List"})}),Object(ae.jsx)("div",{className:"col-md-12 table-responsive-md",children:s&&Object(ae.jsxs)("div",{children:[Object(ae.jsx)("div",{className:"d-flex justify-content-end",children:Object(ae.jsx)("button",{className:"m-3 btn btn-sm btn-success",type:"button",onClick:function(){j(G())},children:"Download Excel"})}),Object(ae.jsx)("div",{class:"tableFixHead",children:Object(ae.jsxs)("table",{className:"table table-striped",children:[Object(ae.jsx)("thead",{children:Object(ae.jsxs)("tr",{children:[Object(ae.jsx)("th",{scope:"col",children:"#"}),h&&Object(ae.jsx)("th",{scope:"col",children:"User"}),Object(ae.jsx)("th",{scope:"col",children:"Client"}),Object(ae.jsx)("th",{scope:"col",children:"Type"}),Object(ae.jsx)("th",{scope:"col",children:"Category"}),Object(ae.jsx)("th",{scope:"col",children:"Desc"}),Object(ae.jsx)("th",{scope:"col",children:"Date"}),Object(ae.jsx)("th",{scope:"col",children:"Time Spent"}),Object(ae.jsx)("th",{scope:"col",children:"Status"}),Object(ae.jsx)("th",{scope:"col",children:"Reviewer"}),Object(ae.jsx)("th",{scope:"col",colSpan:"2",children:"Actions"})]})}),Object(ae.jsx)("tbody",{children:s.map((function(e,t){var n="";r.map((function(t){return t.id===e.clientId&&(n=t.name),!0}));var c="",a="";return d.map((function(t){return t.id===e.reviewerId&&(c=t.username),!0})),h&&u.map((function(t){return t.id===e.userId&&(a=t.username),!0})),Object(ae.jsxs)("tr",{className:e.completed?"table-success":"table-warning",children:[Object(ae.jsx)("td",{children:t+1}),h&&Object(ae.jsx)("td",{children:a}),Object(ae.jsx)("td",{children:n}),Object(ae.jsx)("td",{children:(null===e||void 0===e?void 0:e.taskType)?e.taskType:""}),Object(ae.jsx)("td",{children:(null===e||void 0===e?void 0:e.billingCategory)?e.billingCategory:""}),Object(ae.jsx)("td",{children:e.description}),Object(ae.jsx)("td",{children:ne()(e.date).format("DD/MM/yyyy")}),Object(ae.jsxs)("td",{children:[e.minutesSpent," mins"]}),Object(ae.jsx)("td",{children:e.completed?"Completed":"In-Progress"}),Object(ae.jsx)("td",{children:c}),Object(ae.jsx)("td",{colSpan:"2",children:Object(ae.jsxs)("div",{style:{display:"inline-flex"},children:[Object(ae.jsx)(le.c,{to:"/tasks/"+e.id,className:"btn btn-sm btn-warning mr-2 mt-0",children:"Edit"}),Object(ae.jsx)("button",{className:"btn btn-sm btn-danger mr-2 mt-0",onClick:function(){return t=e.id,void(window.confirm("Are you sure you want to delete the task ?")&&j(J({id:t})).unwrap().catch((function(e){console.log(e)})));var t},children:"Delete"})]})})]},"task-row-".concat(t))}))})]})})]})}),Object(ae.jsx)("div",{className:"col-md-12 table-responsive-md",children:0===s.length?Object(ae.jsx)("div",{className:"d-flex justify-content-center",children:Object(ae.jsx)("h5",{className:"text-center text-info",children:"No Records Found"})}):Object(ae.jsx)("div",{className:"d-flex justify-content-end",children:Object(ae.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){window.confirm("Are you sure you want to delete all tasks ?")&&j(K()).catch((function(e){console.log(e)}))},children:"Remove All"})})})]})},de=n(12),ue=(n(231),{on:function(e,t){document.addEventListener(e,(function(e){return t(e.detail)}))},dispatch:function(e,t){document.dispatchEvent(new CustomEvent(e,{detail:t}))},remove:function(e,t){document.removeEventListener(e,t)}}),je=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){_.getAdminBoard().then((function(e){a(e.data)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a(t),e.response&&401===e.response.status&&ue.dispatch("logout")}))}),[]),Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)("header",{className:"jumbotron",children:Object(ae.jsx)("h3",{children:n})})})},be=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){_.getModeratorBoard().then((function(e){a(e.data)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a(t),e.response&&401===e.response.status&&ue.dispatch("logout")}))}),[]),Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)("header",{className:"jumbotron",children:Object(ae.jsx)("h3",{children:n})})})},me=function(){return Object(ae.jsxs)("div",{className:"row",children:[Object(ae.jsx)("div",{className:"col-sm-12",children:Object(ae.jsx)("div",{className:"card",children:Object(ae.jsxs)("div",{className:"card-body",children:[Object(ae.jsx)("h5",{className:"card-title",children:"Thought for the Day!"}),Object(ae.jsxs)("p",{className:"card-text",children:["Failures are the stepping stones for"," ",Object(ae.jsx)("span",{style:{color:"green"},children:"success"})]}),Object(ae.jsx)("button",{href:"#",className:"btn btn-primary",children:"Have a nice day"})]})})}),Object(ae.jsx)("div",{className:"col-sm-12",children:Object(ae.jsx)("div",{className:"card",children:Object(ae.jsxs)("div",{className:"card-body",children:[Object(ae.jsx)("h5",{className:"card-title",children:"Action Items for December"}),Object(ae.jsx)("p",{className:"card-text",children:"With supporting text below as a natural lead-in to additional content."})]})})})]})},pe={register:function(e,t,n){return O.post("auth/signup",{username:e,email:t,password:n})},login:function(e,t){return O.post("auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user")}},he=JSON.parse(localStorage.getItem("user")),Oe=Object(p.b)("auth/register",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a,s,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.username,a=t.email,s=t.password,e.prev=1,e.next=4,pe.register(c,a,s);case 4:return r=e.sent,n.dispatch(S(r.data.message)),e.abrupt("return",r.data);case 9:return e.prev=9,e.t0=e.catch(1),i=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(S(i)),e.abrupt("return",n.rejectWithValue());case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),fe=Object(p.b)("auth/login",function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.username,a=t.password,e.prev=1,e.next=4,pe.login(c,a);case 4:return s=e.sent,e.abrupt("return",{user:s});case 8:return e.prev=8,e.t0=e.catch(1),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.message||e.t0.message||e.t0.toString(),n.dispatch(S(r)),e.abrupt("return",n.rejectWithValue());case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),xe=Object(p.b)("auth/logout",(function(){pe.logout()})),ve=he?{isLoggedIn:!0,user:he}:{isLoggedIn:!1,user:null},ge=Object(p.c)({name:"auth",initialState:ve,extraReducers:(N={},Object(b.a)(N,Oe.fulfilled,(function(e,t){e.isLoggedIn=!1})),Object(b.a)(N,Oe.rejected,(function(e,t){e.isLoggedIn=!1})),Object(b.a)(N,fe.fulfilled,(function(e,t){e.isLoggedIn=!0,e.user=t.payload.user})),Object(b.a)(N,fe.rejected,(function(e,t){e.isLoggedIn=!1,e.user=null})),Object(b.a)(N,xe.fulfilled,(function(e,t){e.isLoggedIn=!1,e.user=null})),N)}).reducer,Ne=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(i.c)((function(e){return e.auth})).isLoggedIn,o=Object(i.c)((function(e){return e.message})).message,d=Object(i.b)();Object(c.useEffect)((function(){d(T())}),[d]);var u=ce.b().shape({username:ce.c().required("This field is required!"),password:ce.c().required("This field is required!")});return r?Object(ae.jsx)(de.a,{to:"/profile"}):Object(ae.jsxs)("div",{className:"col-md-12 login-form",children:[Object(ae.jsxs)("div",{className:"card card-container",children:[Object(ae.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(ae.jsx)(ee.d,{initialValues:{username:"",password:""},validationSchema:u,onSubmit:function(t){var n=t.username,c=t.password;s(!0),d(fe({username:n,password:c})).unwrap().then((function(){e.history.push("/profile"),window.location.reload()})).catch((function(){s(!1)}))},children:Object(ae.jsxs)(ee.c,{children:[Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"username",children:"Username"}),Object(ae.jsx)(ee.b,{name:"username",type:"text",className:"form-control"}),Object(ae.jsx)(ee.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"password",children:"Password"}),Object(ae.jsx)(ee.b,{name:"password",type:"password",className:"form-control"}),Object(ae.jsx)(ee.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a,children:[a&&Object(ae.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(ae.jsx)("span",{children:"Login"})]})})]})})]}),o&&Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:o})})]})},ye=function(){var e=Object(i.c)((function(e){return e.auth})).user;return e?Object(ae.jsxs)("div",{className:"container",children:[Object(ae.jsx)("header",{className:"jumbotron",children:Object(ae.jsxs)("h3",{children:[Object(ae.jsx)("strong",{children:e.username})," Profile"]})}),Object(ae.jsxs)("p",{children:[Object(ae.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(ae.jsx)("strong",{children:"Authorities:"}),Object(ae.jsx)("ul",{children:e.roles&&e.roles.map((function(e,t){return Object(ae.jsx)("li",{children:e},t)}))})]}):Object(ae.jsx)(de.a,{to:"/login"})},we=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(i.c)((function(e){return e.message})).message,r=Object(i.b)();Object(c.useEffect)((function(){r(T())}),[r]);var o=ce.b().shape({username:ce.c().test("len","The username must be between 3 and 20 characters.",(function(e){return e&&e.toString().length>=3&&e.toString().length<=20})).required("This field is required!"),email:ce.c().email("This is not a valid email.").required("This field is required!"),password:ce.c().test("len","The password must be between 6 and 40 characters.",(function(e){return e&&e.toString().length>=6&&e.toString().length<=40})).required("This field is required!")});return Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"Add Staff"}),Object(ae.jsx)("hr",{}),Object(ae.jsxs)("div",{className:"col-md-12 signup-form",children:[Object(ae.jsxs)("div",{className:"card card-container",children:[Object(ae.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(ae.jsx)(ee.d,{initialValues:{username:"",email:"",password:""},validationSchema:o,onSubmit:function(e){var t=e.username,n=e.email,c=e.password;a(!1),r(Oe({username:t,email:n,password:c})).unwrap().then((function(){a(!0)})).catch((function(){a(!1)}))},children:Object(ae.jsx)(ee.c,{children:!n&&Object(ae.jsxs)("div",{children:[Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"username",children:"Username"}),Object(ae.jsx)(ee.b,{name:"username",type:"text",className:"form-control"}),Object(ae.jsx)(ee.a,{name:"username",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"email",children:"Email"}),Object(ae.jsx)(ee.b,{name:"email",type:"email",className:"form-control"}),Object(ae.jsx)(ee.a,{name:"email",component:"div",className:"alert alert-danger"})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"password",children:"Set Password"}),Object(ae.jsx)(ee.b,{name:"password",type:"text",className:"form-control"}),Object(ae.jsx)(ee.a,{name:"password",component:"div",className:"alert alert-danger"})]}),Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Create"})})]})})})]}),s&&Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsx)("div",{className:n?"alert alert-success":"alert alert-danger",role:"alert",children:s})})]})]})},ke=n(38),Ce=n(101),Se=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(i.c)((function(e){return e.client})),r=Object(i.b)(),o=Object(c.useCallback)((function(){r(D())}),[r]);Object(c.useEffect)((function(){o()}),[o]);var d=function(){r(L({name:n}))};return Object(ae.jsxs)("div",{className:" row",children:[Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsxs)("div",{className:"input-group mb-3",children:[Object(ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by Name",value:n,onChange:function(e){var t=e.target.value;a(t)},onKeyPress:function(e){"Enter"===e.code&&d()}}),Object(ae.jsx)("div",{className:"input-group-append",children:Object(ae.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:d,children:"Search"})})]})}),Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsx)("h4",{children:"Client List"})}),Object(ae.jsx)("div",{className:"col-md-2 table-responsive-md"}),Object(ae.jsx)("div",{className:"col-md-8 tableFixHead",children:s&&Object(ae.jsxs)("table",{className:"table table-striped",children:[Object(ae.jsx)("thead",{children:Object(ae.jsxs)("tr",{children:[Object(ae.jsx)("th",{scope:"col",children:"#"}),Object(ae.jsx)("th",{scope:"col",children:"Client"}),Object(ae.jsx)("th",{scope:"col",colSpan:"2",children:"Actions"})]})}),Object(ae.jsx)("tbody",{children:s.map((function(e,t){return Object(ae.jsxs)("tr",{children:[Object(ae.jsx)("td",{children:t+1}),Object(ae.jsx)("td",{children:e.name}),Object(ae.jsx)("td",{colSpan:"2",children:Object(ae.jsxs)("div",{style:{display:"inline-flex"},children:[Object(ae.jsx)(le.c,{to:"/clients/"+e.id,className:"btn btn-sm btn-warning mr-2 mt-0",children:"Edit"}),Object(ae.jsx)("button",{className:"btn btn-sm btn-danger mr-2 mt-0",onClick:function(){return t=e.id,void(window.confirm("Are you sure you want to delete the client ?")&&r(E({id:t})).unwrap().catch((function(e){console.log(e)})));var t},children:"Delete"})]})})]},"client-row-".concat(t))}))})]})}),Object(ae.jsx)("div",{className:"col-md-2 table-responsive-md"}),Object(ae.jsx)("div",{className:"col-md-10",children:0===s.length?Object(ae.jsx)("div",{className:"d-flex justify-content-center",children:Object(ae.jsx)("h5",{className:"text-center text-info",children:"No Records Found"})}):Object(ae.jsx)("div",{className:"d-flex justify-content-end",children:Object(ae.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:function(){window.confirm("Are you sure you want to delete all clients ?")&&r(B()).catch((function(e){console.log(e)}))},children:"Remove All"})})})]})},Te=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(i.c)((function(e){return e.message})).message,o=Object(i.b)();Object(c.useEffect)((function(){o(T())}),[o]);var d=ce.b().shape({name:ce.c().required("This field is required!")});return Object(ae.jsx)(ee.d,{initialValues:{name:""},validationSchema:d,onSubmit:function(t){var n=t.name;s(!0),e.saveClient({name:n}).then((function(){s(!1)}))},children:Object(ae.jsx)(ee.c,{children:Object(ae.jsxs)("div",{children:[r&&Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:r})}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsxs)("label",{htmlFor:"name",children:["Name",Object(ae.jsx)("sup",{className:"text-center text-danger",children:"*"}),":"]}),Object(ae.jsx)(ee.b,{type:"text",className:"form-control",id:"name",name:"name"}),Object(ae.jsx)(ee.a,{name:"name",component:"div",className:"alert alert-danger"})]}),Object(ae.jsx)("div",{className:"form-group",children:Object(ae.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[a&&!r&&Object(ae.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(ae.jsx)("span",{children:"Submit"})]})})]})})})},Ie=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),r=Object(l.a)(s,2),d=r[0],b=r[1],m=Object(i.b)(),p=function(e){var t=e.name;m(A({name:t})).unwrap().then((function(){b([]),a(!0)})).catch((function(e){console.log("\ud83d\ude80 ~ file: AddClient.js ~ line 34 ~ saveClient ~ e",e.message)}))},h=Object(c.useCallback)(Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b([Object(ae.jsx)(Te,{saveClient:p},"client-1")]);case 1:case"end":return e.stop()}}),e)}))),[m]);Object(c.useEffect)((function(){h()}),[h]);return Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"Add New Client"}),Object(ae.jsx)("hr",{}),Object(ae.jsx)("div",{className:"submit-form",children:n?Object(ae.jsxs)("div",{children:[Object(ae.jsx)("h4",{children:"You submitted successfully!"}),Object(ae.jsx)("button",{className:"btn btn-success",onClick:function(){return b([].concat(Object(o.a)(d),[Object(ae.jsx)(Te,{saveClient:p},"client-1")])),void a(!1)},children:"Add"})]}):Object(ae.jsx)("div",{className:"row",children:Object(ae.jsx)("div",{className:"col-md-12",style:{display:"flex",flexDirection:"column"},children:d.map((function(e){return e}))})})})]})},Ae=function(e){var t=Object(c.useState)({id:null,name:""}),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),d=o[0],u=o[1],j=Object(i.b)();Object(c.useEffect)((function(){var t;t=e.match.params.id,y.get(t).then((function(e){console.log("\ud83d\ude80 ~ file: Client.js:18 ~ .then ~ response:",e),s(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);return console.log("\ud83d\ude80 ~ file: Client.js:86 ~ Client ~ currentClient:",a),Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"Edit Client"}),Object(ae.jsx)("hr",{}),a&&Object(ae.jsxs)("div",{className:"edit-form",children:[Object(ae.jsx)("form",{children:Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"name",children:"Name"}),Object(ae.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:a.name,onChange:function(e){var t=e.target,n=t.name,c=t.value;s(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},n,c)))}})]})}),Object(ae.jsx)("button",{type:"submit",className:"btn btn-md mr-2 btn-success",onClick:function(){j(F({id:a.id,data:a})).unwrap().then((function(e){console.log("\ud83d\ude80 ~ file: Client.js:38 ~ .then ~ response:",e),u("The Client was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(ae.jsx)("button",{className:"btn btn-md btn-primary mr-2",onClick:function(){return e.history.push("/clientList")},children:"< Go Back"}),Object(ae.jsx)("p",{children:d})]})]})},De=function(e){var t=Object(c.useState)({id:null,name:""}),n=Object(l.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),d=o[0],u=o[1],j=Object(i.b)();Object(c.useEffect)((function(){var t;t=e.match.params.id,_.get(t).then((function(e){console.log("\ud83d\ude80 ~ file: User.js:18 ~ .then ~ response:",e),s(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var p=function(e){var t=e.target,n=t.name,c=t.value;s(Object(m.a)(Object(m.a)({},a),{},Object(b.a)({},n,c)))};return console.log("\ud83d\ude80 ~ file: User.js:86 ~ User ~ currentUser:",a),Object(ae.jsxs)("div",{className:"col-md-12 table-responsive-md",children:[Object(ae.jsx)("h4",{children:"Edit User"}),Object(ae.jsx)("hr",{}),a&&Object(ae.jsxs)("div",{className:"edit-form",children:[Object(ae.jsxs)("form",{children:[Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"username",children:"Name"}),Object(ae.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:a.username,onChange:p})]}),Object(ae.jsxs)("div",{className:"form-group",children:[Object(ae.jsx)("label",{htmlFor:"email",children:"Email"}),Object(ae.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:a.email,onChange:p})]})]}),Object(ae.jsx)("button",{type:"submit",className:"btn btn-md mr-2 btn-success",onClick:function(){j(Z({id:a.id,data:a})).unwrap().then((function(e){console.log("\ud83d\ude80 ~ file: User.js:38 ~ .then ~ response:",e),u("The User was updated successfully!")})).catch((function(e){console.log(e)}))},children:"Update"}),Object(ae.jsx)("button",{className:"btn btn-md btn-primary mr-2",onClick:function(){return e.history.push("/staffList")},children:"< Go Back"}),Object(ae.jsx)("p",{children:d})]})]})},Fe=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(i.c)((function(e){return e.user})),r=(s.reviewers,s.users);console.log("\ud83d\ude80 ~ file: StaffList.js:15 ~ StaffList ~ users:",r);var o=Object(i.b)(),d=Object(c.useCallback)((function(){o(Q())}),[o]);Object(c.useEffect)((function(){d()}),[d]);var u=function(){o(X({name:n}))};return Object(ae.jsxs)("div",{className:" row",children:[Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsxs)("div",{className:"input-group mb-3",children:[Object(ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by description",value:n,onChange:function(e){var t=e.target.value;a(t)},onKeyPress:function(e){"Enter"===e.code&&u()}}),Object(ae.jsx)("div",{className:"input-group-append",children:Object(ae.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:u,children:"Search"})})]})}),Object(ae.jsx)("div",{className:"col-md-12",children:Object(ae.jsx)("h4",{children:"user List"})}),Object(ae.jsx)("div",{className:"col-md-2 table-responsive-md"}),Object(ae.jsx)("div",{className:"col-md-8 tableFixHead",children:r&&Object(ae.jsxs)("table",{className:"table table-striped",children:[Object(ae.jsx)("thead",{children:Object(ae.jsxs)("tr",{children:[Object(ae.jsx)("th",{scope:"col",children:"#"}),Object(ae.jsx)("th",{scope:"col",children:"user"}),Object(ae.jsx)("th",{scope:"col",colSpan:"2",children:"Actions"})]})}),Object(ae.jsx)("tbody",{children:r.map((function(e,t){return Object(ae.jsxs)("tr",{children:[Object(ae.jsx)("td",{children:t+1}),Object(ae.jsx)("td",{children:e.username}),Object(ae.jsx)("td",{colSpan:"2",children:Object(ae.jsxs)("div",{style:{display:"inline-flex"},children:[Object(ae.jsx)(le.c,{to:"/users/"+e.id,className:"btn btn-sm btn-warning mr-2 mt-0",children:"Edit"}),Object(ae.jsx)("button",{className:"btn btn-sm btn-danger mr-2 mt-0",onClick:!0,children:"Deactivate"})]})})]},"user-row-".concat(t))}))})]})}),Object(ae.jsx)("div",{className:"col-md-2 table-responsive-md"}),Object(ae.jsx)("div",{className:"col-md-10",children:0===r.length&&Object(ae.jsx)("div",{className:"d-flex justify-content-center",children:Object(ae.jsx)("h5",{className:"text-center text-info",children:"No Users Found"})})})]})},Ee=n(102),Be=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(i.c)((function(e){return e.auth})).user,o=Object(i.b)();Object(c.useEffect)((function(){ke.a.listen((function(e){o(T())}))}),[o]);var d=Object(c.useCallback)((function(){o(xe())}),[o]);return Object(c.useEffect)((function(){return s(!!r&&r.roles.includes("ROLE_ADMIN")),ue.on("logout",(function(){d()})),function(){ue.remove("logout")}}),[r,d]),Object(ae.jsx)(le.a,{history:ke.a,children:Object(ae.jsxs)("div",{children:[Object(ae.jsx)("nav",{className:"navbar navbar-expand-lg bg-dark navbar-dark",children:Object(ae.jsxs)("div",{className:"container-fluid",children:[Object(ae.jsx)(le.c,{to:"/",className:"navbar-brand",children:"KRMN & Associates"}),Object(ae.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(ae.jsx)("span",{className:"navbar-toggler-icon"})}),Object(ae.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(ae.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:r&&Object(ae.jsxs)(a.a.Fragment,{children:[Object(ae.jsxs)("li",{className:"nav-item dropdown",children:[Object(ae.jsx)("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown1",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Tasks"}),Object(ae.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown1",children:[Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/taskList",className:"dropdown-item",href:"#",children:"Task List"})}),Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/addTask",className:"dropdown-item",href:"#",children:"Add Task"})})]})]}),n&&Object(ae.jsxs)(a.a.Fragment,{children:[Object(ae.jsxs)("li",{className:"nav-item dropdown",children:[Object(ae.jsx)("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown2",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Clients"}),Object(ae.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown2",children:[Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/clientList",className:"dropdown-item",href:"#",children:"Client List"})}),Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/addClient",className:"dropdown-item",href:"#",children:"Add Client"})})]})]}),Object(ae.jsxs)("li",{className:"nav-item dropdown",children:[Object(ae.jsx)("div",{className:"nav-link dropdown-toggle",id:"navbarDropdown2",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Staff"}),Object(ae.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown2",children:[Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/staffList",className:"dropdown-item",href:"#",children:"Staff List"})}),Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/register",className:"dropdown-item",href:"#",children:"Add Staff"})})]})]})]})]})}),Object(ae.jsx)("ul",{className:"navbar-nav mr",children:r?Object(ae.jsx)(a.a.Fragment,{children:Object(ae.jsxs)("li",{className:"nav-item dropdown",children:[Object(ae.jsxs)("div",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown2",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:["Hello ",Object(Ee.capitalize)(r.username)]}),Object(ae.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown2",children:[Object(ae.jsx)("li",{children:Object(ae.jsx)(le.c,{to:"/profile",className:"dropdown-item",href:"#",children:"Profile"})}),Object(ae.jsx)("li",{children:Object(ae.jsx)("a",{href:"/login",className:"dropdown-item",onClick:d,children:"LogOut"})})]})]})}):Object(ae.jsx)(a.a.Fragment,{children:Object(ae.jsx)("li",{className:"nav-item",children:Object(ae.jsx)(le.c,{to:"/login",className:"nav-link",children:"Login"})})})})]})]})}),Object(ae.jsx)("div",{className:"container mt-3",children:Object(ae.jsxs)(de.d,{children:[Object(ae.jsx)(de.b,{exact:!0,path:["/","/home"],component:me}),Object(ae.jsx)(de.b,{exact:!0,path:"/login",component:Ne}),Object(ae.jsx)(de.b,{exact:!0,path:"/register",component:we}),Object(ae.jsx)(de.b,{exact:!0,path:"/profile",component:ye}),Object(ae.jsx)(de.b,{path:"/taskList",component:oe}),Object(ae.jsx)(de.b,{path:"/addTask",component:re}),Object(ae.jsx)(de.b,{path:"/mod",component:be}),Object(ae.jsx)(de.b,{path:"/admin",component:je}),Object(ae.jsx)(de.b,{path:"/tasks/:id",component:ie}),Object(ae.jsx)(de.b,{path:"/clientList",component:Se}),Object(ae.jsx)(de.b,{path:"/addClient",component:Ie}),Object(ae.jsx)(de.b,{path:"/clients/:id",component:Ae}),Object(ae.jsx)(de.b,{path:"/staffList",component:Fe}),Object(ae.jsx)(de.b,{path:"/users/:id",component:De})]})}),Object(ae.jsx)(Ce.a,{logOut:d})]})})},Le={auth:ge,message:I,tasks:H,user:$,client:R},Re=Object(p.a)({reducer:Le,devTools:!0});r.a.render(Object(ae.jsx)(i.a,{store:Re,children:Object(ae.jsx)(le.b,{basename:"/#",children:Object(ae.jsx)(Be,{})})}),document.getElementById("root"))},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(16),a=Object(c.a)()}},[[236,1,2]]]);
//# sourceMappingURL=main.04c6a59b.chunk.js.map